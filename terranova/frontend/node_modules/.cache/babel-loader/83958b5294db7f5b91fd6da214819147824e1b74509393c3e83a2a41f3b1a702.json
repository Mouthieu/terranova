{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mouthieu.MB-TUF\\\\Documents\\\\cours-et-projets\\\\imt\\\\projet-innov\\\\terranova\\\\terranova\\\\frontend\\\\src\\\\components\\\\CollectionPointList.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\n// import * as React from 'react';\nimport L from 'leaflet';\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet';\nimport SubscribeButton from './SubscribeButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CollectionPointList = () => {\n  _s();\n  const [collectionPoints, setCollectionPoints] = useState([]);\n  const token = localStorage.getItem('token');\n  const icon = new L.Icon({\n    iconUrl: 'https://unpkg.com/leaflet/dist/images/marker-icon.png',\n    // chemin vers l'icône par défaut\n    iconSize: [25, 41],\n    // dimensions de l'icône\n    iconAnchor: [12, 41],\n    // point d'ancrage du marqueur\n    popupAnchor: [1, -34],\n    // point d'ancrage du popup\n    shadowUrl: 'https://unpkg.com/leaflet/dist/images/marker-shadow.png',\n    // ombre du marqueur\n    shadowSize: [41, 41],\n    // taille de l'ombre\n    shadowAnchor: [12, 41] // point d'ancrage de l'ombre\n  });\n  useEffect(() => {\n    axios.get('http://127.0.0.1:8000/api/collection-points/', {}).then(response => {\n      console.log(\"Données reçues:\", response.data);\n      setCollectionPoints(response.data);\n    }).catch(error => {\n      console.error('Erreur lors de la récupération des points de collecte', error);\n    });\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Points de collecte\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [48.8566, 2.3522],\n      zoom: 12,\n      style: {\n        height: \"500px\",\n        width: \"50%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), collectionPoints.map(point => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [point.latitude, point.longitude],\n        icon: icon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [point.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 28\n          }, this), \" \", point.address, /*#__PURE__*/_jsxDEV(SubscribeButton, {\n            collectionPoint: point\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, point.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(CollectionPointList, \"r3l3MPbLZW0IwpuEwnEi1FMthyk=\");\n_c = CollectionPointList;\nexport default CollectionPointList;\nvar _c;\n$RefreshReg$(_c, \"CollectionPointList\");","map":{"version":3,"names":["axios","L","React","useEffect","useState","MapContainer","Marker","Popup","TileLayer","SubscribeButton","jsxDEV","_jsxDEV","CollectionPointList","_s","collectionPoints","setCollectionPoints","token","localStorage","getItem","icon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","get","then","response","console","log","data","catch","error","children","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","style","height","width","url","map","point","position","latitude","longitude","name","address","collectionPoint","id","_c","$RefreshReg$"],"sources":["C:/Users/Mouthieu.MB-TUF/Documents/cours-et-projets/imt/projet-innov/terranova/terranova/frontend/src/components/CollectionPointList.js"],"sourcesContent":["import axios from 'axios';\r\n// import * as React from 'react';\r\nimport L from 'leaflet';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet';\r\nimport SubscribeButton from './SubscribeButton';\r\n \r\nconst CollectionPointList = () => {\r\n  const [collectionPoints, setCollectionPoints] = useState([]);\r\n  const token = localStorage.getItem('token');\r\n\r\n  const icon = new L.Icon({\r\n    iconUrl: 'https://unpkg.com/leaflet/dist/images/marker-icon.png', // chemin vers l'icône par défaut\r\n    iconSize: [25, 41], // dimensions de l'icône\r\n    iconAnchor: [12, 41], // point d'ancrage du marqueur\r\n    popupAnchor: [1, -34], // point d'ancrage du popup\r\n    shadowUrl: 'https://unpkg.com/leaflet/dist/images/marker-shadow.png', // ombre du marqueur\r\n    shadowSize: [41, 41], // taille de l'ombre\r\n    shadowAnchor: [12, 41], // point d'ancrage de l'ombre\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('http://127.0.0.1:8000/api/collection-points/', {})\r\n      .then((response) => {\r\n        console.log(\"Données reçues:\", response.data);\r\n        setCollectionPoints(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Erreur lors de la récupération des points de collecte', error);\r\n      });\r\n  }, [token]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Points de collecte</h2>\r\n      <MapContainer center={[48.8566, 2.3522]} zoom={12} style={{ height: \"500px\", width: \"50%\" }}>\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        {collectionPoints.map(point => (\r\n          <Marker key={point.id} position={[point.latitude, point.longitude]} icon={icon}>\r\n            <Popup>\r\n              {point.name} <br /> {point.address}\r\n              <SubscribeButton collectionPoint={point}/>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n  \r\n  \r\n};\r\n\r\nexport default CollectionPointList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}